
\begin{figure}[!htb]
\begin{center}
\begin{tikzpicture}
[
	xscale	= 1,	% to scale horizontally everything but the text
	yscale	= 1,	% to scale vertically everything but the text
]



% ------------------------------------------------------
% NODES DEFINITION
\matrix
(nMatrix)
[
	row sep		= 1cm,
	column sep	= 1cm,
]
{
	% ------------------------------ row 1
	\node (nM11) [coordinate] {}; &
	\node (nM12) [coordinate] {}; &
	\node (nSystem) [BlocksStyle] {plant}; &
	\node (nM15) {}; &
	\node (nOutput) {$y$}; \\
	%
	%
	% ------------------------------ row 2
	\node (nM21) {}; &
	\node (nController) [BlocksStyle] {$K(s)$}; &
	\node (nIntegrator) [BlocksStyle] {$\int $}; &
	\node (nSum) [SumNodesStyle] {}; &
	\node (nReference) {$r$}; \\
};



% ------------------------------------------------------
% PATHS
\draw [LinesStyle] (nM11) -- (nSystem) node [midway, above] {$u$};
\draw [LinesStyle] (nSystem) -- (nOutput);
\draw [LinesStyle] (nSystem) -| (nSum) node [at end, above right] {$-$};
\draw [LinesStyle] (nReference) -- (nSum) node [near end, above] {$+$};
\draw [LinesStyle] (nSum) -- (nIntegrator);
\draw [LinesStyle] (nIntegrator) -- (nController);
\draw [LinesStyle, -] (nController) -| (nM11);



% -------------------------
% auxiliary nodes
\node [coordinate, xshift = -0.5cm, yshift =  0.5cm] (nAux1) at (nController.north west) {};
\node [coordinate, xshift =  0.5cm, yshift = -0.5cm] (nAux2) at (nIntegrator.south east) {};
%
\draw [HighlightingStyle] (nAux1) -| (nAux2) -| (nAux1)
node [above, pos = 0.43] {controller};





\end{tikzpicture}
%
\caption{12.}
\label{fig:12}
%
\end{center}
\end{figure}
